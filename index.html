<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡”ç¾…æŠ½ç‰Œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
            text-align: center;
        }

        h1 {
            color: #764ba2;
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .description {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .question-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            font-family: inherit;
            resize: vertical;
            min-height: 60px;
        }

        .question-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .question-input::placeholder {
            color: #999;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-area {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .result-area.hidden {
            display: none;
        }

        .card-question {
            font-size: 1rem;
            color: #667eea;
            margin-bottom: 15px;
            font-style: italic;
            padding: 10px 15px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }

        .card-name {
            font-size: 2rem;
            font-weight: 700;
            color: #764ba2;
            margin-bottom: 10px;
        }

        .card-orientation {
            font-size: 1.2rem;
            color: #667eea;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .card-arcana {
            font-size: 1rem;
            color: #888;
            margin-bottom: 20px;
            font-style: italic;
        }

        .card-meaning {
            font-size: 1.1rem;
            color: #555;
            line-height: 1.8;
            text-align: left;
            max-width: 500px;
        }

        .placeholder {
            color: #999;
            font-size: 1.2rem;
            font-style: italic;
        }

        .error-message {
            color: #dc3545;
            font-size: 1.1rem;
            padding: 20px;
        }

        @media (max-width: 640px) {
            .container {
                padding: 25px;
            }

            h1 {
                font-size: 2rem;
            }

            .description {
                font-size: 1rem;
            }

            .question-input {
                font-size: 0.95rem;
                padding: 12px 15px;
                min-height: 50px;
            }

            button {
                padding: 12px 30px;
                font-size: 1rem;
            }

            .card-question {
                font-size: 0.9rem;
            }

            .card-name {
                font-size: 1.6rem;
            }

            .card-orientation {
                font-size: 1rem;
            }

            .card-meaning {
                font-size: 1rem;
            }
        }

        .card-animation {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ”® å¡”ç¾…æŠ½ç‰Œ</h1>
            <p class="description">è¼¸å…¥ä½ çš„å•é¡Œï¼Œç„¶å¾ŒæŠ½ä¸€å¼µç‰Œç²å¾—æç¤º</p>
        </header>
        
        <main>
            <textarea id="questionInput" class="question-input" placeholder="è«‹è¼¸å…¥ä½ æƒ³è©¢å•çš„å•é¡Œï¼ˆé¸å¡«ï¼‰&#10;ä¾‹å¦‚ï¼šæˆ‘è©²å¦‚ä½•é¢å°ç›®å‰çš„å›°å¢ƒï¼Ÿ"></textarea>
            
            <div class="button-group">
                <button id="drawBtn" onclick="drawCard()">æŠ½ç‰Œ</button>
                <button id="resetBtn" onclick="reset()">å†æŠ½ä¸€æ¬¡</button>
            </div>
            
            <div id="resultArea" class="result-area hidden">
                <div class="placeholder">è¼¸å…¥å•é¡Œå¾Œé»æ“Šã€ŒæŠ½ç‰Œã€é–‹å§‹</div>
            </div>
        </main>
    </div>

    <script>
        // å¡”ç¾…ç‰Œåº« - 22å¼µå¤§é˜¿çˆ¾å…‹é‚£
        const deck = [
            {
                id: "major-00",
                name: "æ„šè€… (The Fool)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "æ–°çš„é–‹å§‹ã€å†’éšªç²¾ç¥ã€ä¿æŒé–‹æ”¾èˆ‡ä¿¡ä»»ã€‚é€™æ˜¯ä¸€å€‹å……æ»¿å¯èƒ½æ€§çš„æ™‚åˆ»ï¼Œå‹‡æ•¢åœ°è¸å‡ºç¬¬ä¸€æ­¥å§ï¼",
                meaning_reversed: "è¡å‹•è¡Œäº‹ã€ç¼ºä¹æº–å‚™ã€é€ƒé¿è²¬ä»»ã€‚å»ºè­°åœ¨è¡Œå‹•å‰å¤šåŠ æ€è€ƒï¼Œé¿å…é­¯è½æ±ºå®šã€‚"
            },
            {
                id: "major-01",
                name: "é­”è¡“å¸« (The Magician)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å‰µé€ åŠ›ã€æŠ€èƒ½ã€è³‡æºè±å¯Œã€‚ä½ æ“æœ‰å¯¦ç¾ç›®æ¨™æ‰€éœ€çš„ä¸€åˆ‡å·¥å…·ï¼Œç¾åœ¨å°±æ˜¯å±•ç¾æ‰è¯çš„æ™‚å€™ã€‚",
                meaning_reversed: "æ“ç¸±ã€ç¼ºä¹æ–¹å‘ã€æµªè²»æ‰èƒ½ã€‚æ³¨æ„ä¸è¦æ¿«ç”¨ä½ çš„èƒ½åŠ›ï¼Œèª å¯¦é¢å°è‡ªå·±çš„å‹•æ©Ÿã€‚"
            },
            {
                id: "major-02",
                name: "å¥³ç¥­å¸ (The High Priestess)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "ç›´è¦ºã€å…§åœ¨æ™ºæ…§ã€ç¥ç§˜çŸ¥è­˜ã€‚å‚¾è½å…§å¿ƒçš„è²éŸ³ï¼Œç­”æ¡ˆå°±åœ¨ä½ å¿ƒä¸­ã€‚",
                meaning_reversed: "å¿½è¦–ç›´è¦ºã€ç§˜å¯†ã€ç¼ºä¹å…§çœã€‚å¯èƒ½éœ€è¦æ›´å¤šæ™‚é–“éœä¸‹ä¾†è†è½å…§åœ¨çš„è²éŸ³ã€‚"
            },
            {
                id: "major-03",
                name: "çš‡å (The Empress)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "è±é¥’ã€æ»‹é¤Šã€å‰µé€ åŠ›ã€‚é€™æ˜¯æ”¶ç©«èˆ‡æˆé•·çš„æ™‚æœŸï¼Œäº«å—ç”Ÿæ´»çš„è±ç››å§ï¼",
                meaning_reversed: "ä¾è³´ä»–äººã€å‰µæ„å—é˜»ã€éåº¦ä¿è­·ã€‚å­¸ç¿’ç¨ç«‹ä¸¦çµ¦äºˆè‡ªå·±å’Œä»–äººé©ç•¶çš„ç©ºé–“ã€‚"
            },
            {
                id: "major-04",
                name: "çš‡å¸ (The Emperor)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "æ¬Šå¨ã€çµæ§‹ã€æŒæ§åŠ›ã€‚å»ºç«‹ç§©åºå’Œè¦å‰‡ï¼Œä»¥ç©©å¥çš„æ–¹å¼é”æˆç›®æ¨™ã€‚",
                meaning_reversed: "å°ˆåˆ¶ã€åƒµåŒ–ã€ç¼ºä¹ç´€å¾‹ã€‚éåº¦æ§åˆ¶å¯èƒ½å¸¶ä¾†åæ•ˆæœï¼Œå­¸ç¿’å½ˆæ€§èˆ‡åŒ…å®¹ã€‚"
            },
            {
                id: "major-05",
                name: "æ•™çš‡ (The Hierophant)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å‚³çµ±ã€æ•™è‚²ã€ç²¾ç¥æŒ‡å¼•ã€‚å°‹æ±‚æ™ºæ…§çš„å»ºè­°ï¼Œéµå¾ªç¶“éé©—è­‰çš„æ–¹æ³•ã€‚",
                meaning_reversed: "åå›ã€éå‚³çµ±ã€è³ªç–‘ä¿¡ä»°ã€‚å¯èƒ½æ˜¯æ™‚å€™æ‰“ç ´å¸¸è¦ï¼Œæ‰¾åˆ°è‡ªå·±çš„é“è·¯ã€‚"
            },
            {
                id: "major-06",
                name: "æˆ€äºº (The Lovers)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "æ„›æƒ…ã€å’Œè«§ã€é¸æ“‡ã€‚é‡è¦çš„é—œä¿‚æˆ–æ±ºå®šå³å°‡åˆ°ä¾†ï¼Œè·Ÿéš¨ä½ çš„å¿ƒã€‚",
                meaning_reversed: "ä¸å’Œè«§ã€éŒ¯èª¤é¸æ“‡ã€åƒ¹å€¼è§€è¡çªã€‚éœ€è¦é‡æ–°è©•ä¼°é—œä¿‚æˆ–æ±ºå®šçš„æ–¹å‘ã€‚"
            },
            {
                id: "major-07",
                name: "æˆ°è»Š (The Chariot)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å‹åˆ©ã€æ„å¿—åŠ›ã€å‰é€²ã€‚ä¿æŒå°ˆæ³¨å’Œæ±ºå¿ƒï¼ŒæˆåŠŸå°±åœ¨å‰æ–¹ã€‚",
                meaning_reversed: "å¤±æ§ã€ç¼ºä¹æ–¹å‘ã€æ”»æ“Šæ€§ã€‚éœ€è¦é‡æ–°æ‰¾å›å¹³è¡¡å’Œæ§åˆ¶åŠ›ã€‚"
            },
            {
                id: "major-08",
                name: "åŠ›é‡ (Strength)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å…§åœ¨åŠ›é‡ã€å‹‡æ°£ã€è€å¿ƒã€‚ä»¥æº«æŸ”å’ŒåŒæƒ…å¿ƒå…‹æœæŒ‘æˆ°ï¼ŒçœŸæ­£çš„åŠ›é‡ä¾†è‡ªå…§å¿ƒã€‚",
                meaning_reversed: "è‡ªæˆ‘æ‡·ç–‘ã€ç¼ºä¹ä¿¡å¿ƒã€è„†å¼±ã€‚ç›¸ä¿¡è‡ªå·±çš„èƒ½åŠ›ï¼Œä¸è¦è¢«ææ‡¼æ§åˆ¶ã€‚"
            },
            {
                id: "major-09",
                name: "éš±è€… (The Hermit)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å…§çœã€å°‹æ±‚çœŸç†ã€å­¤ç¨ã€‚ç¨è™•çš„æ™‚å…‰èƒ½å¸¶ä¾†æ·±åˆ»çš„æ´å¯Ÿå’Œæ™ºæ…§ã€‚",
                meaning_reversed: "å­¤ç«‹ã€é€ƒé¿ã€è¿·å¤±ã€‚éåº¦éš”é›¢å¯èƒ½ä¸å¥åº·ï¼Œå°‹æ±‚é©ç•¶çš„æ”¯æŒå’Œé€£çµã€‚"
            },
            {
                id: "major-10",
                name: "å‘½é‹ä¹‹è¼ª (Wheel of Fortune)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "è®ŠåŒ–ã€å‘½é‹ã€å¥½é‹ã€‚ç”Ÿå‘½çš„å¾ªç’°å¸¶ä¾†æ–°æ©Ÿæœƒï¼Œé †æ‡‰è®ŠåŒ–çš„æ½®æµã€‚",
                meaning_reversed: "å£é‹ã€æŠ—æ‹’æ”¹è®Šã€å¤±æ§ã€‚æ¥å—ç”Ÿå‘½çš„èµ·ä¼ï¼Œå¾æŒ‘æˆ°ä¸­å­¸ç¿’ã€‚"
            },
            {
                id: "major-11",
                name: "æ­£ç¾© (Justice)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å…¬å¹³ã€çœŸç›¸ã€æ³•å¾‹ã€‚å› æœå ±æ‡‰ï¼Œä½ çš„è¡Œç‚ºæœƒå¾—åˆ°ç›¸æ‡‰çš„çµæœã€‚",
                meaning_reversed: "ä¸å…¬ã€åè¦‹ã€é€ƒé¿è²¬ä»»ã€‚é¢å°äº‹å¯¦ï¼Œæ‰¿æ“”è‡ªå·±çš„è²¬ä»»ã€‚"
            },
            {
                id: "major-12",
                name: "å€’åŠäºº (The Hanged Man)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "æ”¾æ‰‹ã€æ–°è§€é»ã€çŠ§ç‰²ã€‚å¾ä¸åŒè§’åº¦çœ‹å¾…å•é¡Œï¼Œæš«åœèƒ½å¸¶ä¾†å•Ÿç™¼ã€‚",
                meaning_reversed: "æ‹–å»¶ã€æŠ—æ‹’ã€å¾’å‹ç„¡åŠŸã€‚åœæ­¢ç„¡æ„ç¾©çš„æ™æ‰ï¼Œæ¥å—ç•¶ä¸‹çš„è™•å¢ƒã€‚"
            },
            {
                id: "major-13",
                name: "æ­»ç¥ (Death)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "çµæŸã€è½‰è®Šã€æ–°ç”Ÿã€‚èˆŠçš„å¿…é ˆçµæŸï¼Œæ‰èƒ½ç‚ºæ–°çš„é–‹å§‹é¨°å‡ºç©ºé–“ã€‚",
                meaning_reversed: "æŠ—æ‹’æ”¹è®Šã€åœæ»¯ã€ææ‡¼ã€‚æ”¾ä¸‹éå»ï¼Œæ“æŠ±è½‰è®Šå¸¶ä¾†çš„å¯èƒ½æ€§ã€‚"
            },
            {
                id: "major-14",
                name: "ç¯€åˆ¶ (Temperance)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å¹³è¡¡ã€ç¯€åˆ¶ã€å’Œè«§ã€‚æ‰¾åˆ°ä¸­åº¸ä¹‹é“ï¼Œæ•´åˆå°ç«‹çš„å…ƒç´ ã€‚",
                meaning_reversed: "å¤±è¡¡ã€éåº¦ã€ç¼ºä¹å’Œè«§ã€‚éœ€è¦é‡æ–°èª¿æ•´ç”Ÿæ´»çš„å„å€‹æ–¹é¢ã€‚"
            },
            {
                id: "major-15",
                name: "æƒ¡é­” (The Devil)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "æŸç¸›ã€èª˜æƒ‘ã€ç‰©è³ªä¸»ç¾©ã€‚æ„è­˜åˆ°è‡ªæˆ‘è¨­é™ï¼Œä½ æœ‰èƒ½åŠ›è§£æ”¾è‡ªå·±ã€‚",
                meaning_reversed: "è§£è„«ã€è¦ºé†’ã€æ‰“ç ´æŸç¸›ã€‚æ­£åœ¨æ“ºè„«è² é¢æ¨¡å¼ï¼Œé‡ç²è‡ªç”±ã€‚"
            },
            {
                id: "major-16",
                name: "å¡” (The Tower)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "çªç„¶æ”¹è®Šã€ç ´å£ã€å•Ÿç¤ºã€‚é›–ç„¶éœ‡æ’¼ï¼Œä½†é€™æ˜¯å¿…è¦çš„æ¸…ç†å’Œé‡å»ºã€‚",
                meaning_reversed: "é¿å…ç½é›£ã€ææ‡¼æ”¹è®Šã€å…§åœ¨å‹•ç›ªã€‚å±æ©Ÿå¯èƒ½å·²éï¼Œé–‹å§‹é‡å»ºçš„æ™‚å€™ã€‚"
            },
            {
                id: "major-17",
                name: "æ˜Ÿæ˜Ÿ (The Star)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å¸Œæœ›ã€éˆæ„Ÿã€å¯§éœã€‚ä¿æŒä¿¡å¿µï¼Œç¾å¥½çš„æœªä¾†æ­£åœ¨å±•é–‹ã€‚",
                meaning_reversed: "å¤±å»ä¿¡å¿ƒã€çµ•æœ›ã€ç¼ºä¹ç›®æ¨™ã€‚é‡æ–°é€£çµå…§åœ¨çš„å¸Œæœ›å’Œéˆæ„Ÿã€‚"
            },
            {
                id: "major-18",
                name: "æœˆäº® (The Moon)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å¹»è¦ºã€ææ‡¼ã€æ½›æ„è­˜ã€‚äº‹æƒ…å¯èƒ½ä¸å¦‚è¡¨é¢æ‰€è¦‹ï¼Œç›¸ä¿¡ä½ çš„ç›´è¦ºã€‚",
                meaning_reversed: "é‡‹æ”¾ææ‡¼ã€æ¸…æ™°ã€çœŸç›¸æµ®ç¾ã€‚å›°æƒ‘æ­£åœ¨æ¶ˆæ•£ï¼Œçœ‹æ¸…äº‹å¯¦çš„æœ¬è³ªã€‚"
            },
            {
                id: "major-19",
                name: "å¤ªé™½ (The Sun)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å–œæ‚…ã€æˆåŠŸã€å…‰æ˜ã€‚é€™æ˜¯å……æ»¿æ­£èƒ½é‡çš„æ™‚æœŸï¼Œç›¡æƒ…äº«å—å§ï¼",
                meaning_reversed: "æš«æ™‚ä½è½ã€éåº¦æ¨‚è§€ã€å»¶é²ã€‚é™½å…‰æœƒå†æ¬¡å‡ºç¾ï¼Œä¿æŒè€å¿ƒã€‚"
            },
            {
                id: "major-20",
                name: "å¯©åˆ¤ (Judgement)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "è¦ºé†’ã€é‡ç”Ÿã€å…§åœ¨å‘¼å¬ã€‚éå»çš„ç¶“æ­·å¸¶ä¾†æ·±åˆ»çš„ç†è§£å’Œè½‰è®Šã€‚",
                meaning_reversed: "è‡ªæˆ‘æ‡·ç–‘ã€æ‹’çµ•åçœã€éŒ¯å¤±è‰¯æ©Ÿã€‚èª å¯¦è©•ä¼°è‡ªå·±ï¼Œåšå‡ºå¿…è¦çš„æ”¹è®Šã€‚"
            },
            {
                id: "major-21",
                name: "ä¸–ç•Œ (The World)",
                arcana: "å¤§é˜¿çˆ¾å…‹é‚£",
                suit: null,
                meaning_upright: "å®Œæˆã€æˆå°±ã€æ•´åˆã€‚ä¸€å€‹å¾ªç’°çš„åœ“æ»¿çµæŸï¼Œæº–å‚™è¿æ¥æ–°çš„æ—…ç¨‹ã€‚",
                meaning_reversed: "æœªå®Œæˆã€å°‹æ±‚é–‰åˆã€ç¼ºä¹æˆå°±æ„Ÿã€‚å¹¾ä¹åˆ°é”çµ‚é»ï¼Œå†å …æŒä¸€ä¸‹ã€‚"
            }
        ];

        // ç•¶å‰æŠ½åˆ°çš„ç‰Œ
        let currentCard = null;
        let currentOrientation = null;
        let currentQuestion = '';

        // é è¨­æç¤ºè¨Šæ¯
        const DEFAULT_MEANING = 'è«‹ä»¥ç›´è¦ºæ„Ÿå—é€™å¼µç‰Œçš„æé†’';

        /**
         * éš¨æ©ŸæŠ½å–ä¸€å¼µç‰Œ
         */
        function drawCard() {
            // æª¢æŸ¥ç‰Œåº«
            if (!deck || deck.length === 0) {
                displayError('ç‰Œåº«æœªè¼‰å…¥');
                return;
            }

            // ç²å–ä½¿ç”¨è€…è¼¸å…¥çš„å•é¡Œ
            const questionInput = document.getElementById('questionInput');
            currentQuestion = questionInput.value.trim();

            // éš¨æ©Ÿé¸æ“‡ä¸€å¼µç‰Œ
            const randomIndex = Math.floor(Math.random() * deck.length);
            currentCard = deck[randomIndex];

            // éš¨æ©Ÿæ±ºå®šæ­£ä½æˆ–é€†ä½ (50% æ©Ÿç‡)
            currentOrientation = Math.random() < 0.5 ? 'upright' : 'reversed';

            // é¡¯ç¤ºçµæœ
            renderResult(currentCard, currentOrientation, currentQuestion);
        }

        /**
         * æ¸²æŸ“æŠ½ç‰Œçµæœ
         */
        function renderResult(card, orientation, question) {
            const resultArea = document.getElementById('resultArea');
            
            // æª¢æŸ¥å¡ç‰‡è³‡æ–™
            if (!card) {
                displayError('æ‰¾ä¸åˆ°ç‰Œå¡è³‡æ–™');
                return;
            }

            // ç²å–å°æ‡‰çš„è§£é‡‹
            let meaning = '';
            if (orientation === 'upright') {
                meaning = card.meaning_upright || DEFAULT_MEANING;
            } else {
                meaning = card.meaning_reversed || DEFAULT_MEANING;
            }

            // æ§‹å»ºçµæœHTML
            const orientationText = orientation === 'upright' ? 'æ­£ä½' : 'é€†ä½';
            const orientationEmoji = orientation === 'upright' ? 'â¬†ï¸' : 'â¬‡ï¸';
            
            // å¦‚æœæœ‰å•é¡Œï¼Œé¡¯ç¤ºå•é¡Œ
            const questionHTML = question ? `<div class="card-question">å•é¡Œï¼š${question}</div>` : '';
            
            resultArea.innerHTML = `
                <div class="card-animation">
                    ${questionHTML}
                    <div class="card-name">${card.name}</div>
                    <div class="card-orientation">${orientationEmoji} ${orientationText}</div>
                    <div class="card-arcana">${card.arcana}</div>
                    <div class="card-meaning">${meaning}</div>
                </div>
            `;

            // é¡¯ç¤ºçµæœå€åŸŸ
            resultArea.classList.remove('hidden');
        }

        /**
         * é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
         */
        function displayError(message) {
            const resultArea = document.getElementById('resultArea');
            resultArea.innerHTML = `<div class="error-message">${message}</div>`;
            resultArea.classList.remove('hidden');
        }

        /**
         * é‡è¨­/å†æŠ½ä¸€æ¬¡
         */
        function reset() {
            currentCard = null;
            currentOrientation = null;
            currentQuestion = '';
            
            // æ¸…ç©ºå•é¡Œè¼¸å…¥æ¡†
            const questionInput = document.getElementById('questionInput');
            questionInput.value = '';
            
            const resultArea = document.getElementById('resultArea');
            resultArea.innerHTML = '<div class="placeholder">è¼¸å…¥å•é¡Œå¾Œé»æ“Šã€ŒæŠ½ç‰Œã€é–‹å§‹</div>';
            resultArea.classList.remove('hidden');
        }
    </script>
</body>
</html>
